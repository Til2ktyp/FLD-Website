<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meine Partei - CarPlay Final</title>
    <!-- Lade Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS-Variable f√ºr das Hintergrundbild (sp√§ter URL hier einf√ºgen) */
        :root {
            /* HINTERGRUND-UPDATE: Die URL wurde auf Wunsch des Nutzers ge√§ndert */
            --background-url: url('https://thunfisch-begiahnop-0uillku50p.edgeone.dev/IMG_0885.png'); 
        }

        /* Grundstil f√ºr die CarPlay-√Ñsthetik */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d0d; 
            color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem; /* Abstand zum Rand des Viewports */
            background-image: var(--background-url);
            background-size: cover;
            background-position: center;
            transition: background-image 0.5s;
        }

        /* Hauptcontainer, der das CarPlay-Display simuliert */
        .carplay-container {
            width: 100%;
            max-width: 1200px;
            height: 80vh; 
            min-height: 500px;
            
            /* HINTERGRUND-BLUR: Hintergrundfarbe etwas dunkler und Blur-Filter hinzugef√ºgt */
            background: rgba(28, 28, 30, 0.8); 
            backdrop-filter: blur(12px); /* St√§rkerer Blur-Effekt f√ºr bessere Lesbarkeit */
            
            border-radius: 28px; 
            box-shadow: 0 15px 60px rgba(0, 0, 0, 0.7);
            display: flex;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Schmaler Navigations-Dock (Links) - Mit Abstand und Blur */
        .sidebar {
            width: 90px;
            padding: 1.5rem 0; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            
            /* CarPlay Blur Effekt (kann beibehalten werden, um den Dock abzuheben) */
            /* GE√ÑNDERT: Deckkraft von 0.4 auf 0.2 reduziert, um die Leiste SEHR viel transparenter zu machen */
            background-color: rgba(44, 44, 46, 0.2); 
            backdrop-filter: blur(8px);
            border-radius: 28px; 
            margin: 10px; 
            height: calc(100% - 20px); 
        }
        
        /* Uhrzeit-Anzeige im Men√º */
        .time-display {
            background: rgba(60, 60, 67, 0.5);
            backdrop-filter: blur(5px);
            padding: 0.4rem 0.6rem; 
            border-radius: 12px;
            font-size: 1.1rem; 
            font-weight: 700;
            color: white;
            text-align: center;
            margin-bottom: 2rem; 
        }


        /* Icon-Navigationspunkt */
        .nav-icon-item {
            width: 52px; 
            height: 52px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0.6rem 0;
            cursor: pointer;
            border-radius: 16px; 
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
            color: #ccc;
        }

        .nav-icon-item:hover {
            background-color: #4a4a4c;
            transform: scale(1.05);
        }

        .nav-icon-item.active {
            background-color: #4CAF50; 
            color: white;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
            transform: scale(1.05);
        }

        /* Inhaltsteil (Rechte Seite) */
        .content-area {
            flex-grow: 1;
            padding: 1rem 2rem 2rem 1rem; 
            position: relative;
            overflow: hidden; 
            width: calc(100% - 110px); 
        }
        

        /* Seiten√ºbergangseffekt */
        .page-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 0 1rem 0 1rem; 
            padding-top: 2rem; 
            opacity: 0;
            
            transform: scale(1.03);    
            filter: blur(10px);        
            
            transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out, filter 0.8s ease-in-out; 
            pointer-events: none; 
            overflow-y: auto;
            border-radius: 20px;
        }

        .page-content.active {
            opacity: 1;
            transform: scale(1); 
            filter: blur(0);     
            pointer-events: auto; 
            z-index: 10;
        }

        /* Widget Styling (f√ºr alle Widgets) */
        .dashboard-card {
            background: #2c2c2e;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .dashboard-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.5);
        }


        /* Nextcloud Widget Styling (f√ºr iframe) */
        #nextcloud-content iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 16px;
            overflow: hidden;
        }
        
        /* Mobile Anpassungen */
        @media (max-width: 768px) {
            body { padding: 0; }
            .carplay-container {
                flex-direction: column;
                height: 100vh;
                min-height: 100vh;
                border-radius: 0;
                background: #1c1c1e;
                backdrop-filter: none; /* Auf Mobile keinen Blur, da voller Hintergrund */
            }
            .sidebar {
                width: 100%;
                height: 70px; 
                padding: 0;
                border-right: none;
                border-top: 1px solid #333;
                flex-direction: row; 
                justify-content: space-around;
                order: 2; 
                margin: 0;
                border-radius: 0;
                background-color: #2c2c2e;
                backdrop-filter: none;
            }
            .time-display { /* Mobile Anpassung der Uhr */
                display: none; /* Uhr im Dock auf Mobile ausblenden */
            }
            .nav-icon-item {
                margin: 0;
                width: 48px;
                height: 48px;
            }
            .content-area {
                order: 1; 
                padding: 1rem;
                flex-grow: 1;
                width: 100%; 
                min-height: calc(100vh - 70px); 
            }
            .page-content {
                padding: 1rem; 
                padding-top: 1rem;
            }
        }
    </style>
</head>
<body>

    <div class="carplay-container">
        
        <!-- LINKER BEREICH: Navigations-Dock -->
        <div class="sidebar">
            <div class="flex flex-col items-center">
                <!-- Uhrzeit-Anzeige (JETZT HIER) -->
                <div id="current-time" class="time-display">10:54</div>

                <!-- 1. Home Icon -->
                <div id="nav-home" class="nav-icon-item active" data-page="home" title="Startseite">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0h6m-6 0h-2a1 1 0 01-1-1v-4m7 0h-5"></path></svg>
                </div>
                <!-- 2. Grundprinzipien Icon -->
                <div id="nav-principles" class="nav-icon-item" data-page="principles" title="Grundprinzipien">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 4.04A11.955 11.955 0 002.944 12c.045 4.015 1.583 7.85 4.416 10.016a11.955 11.955 0 0014.288-4.041 11.955 11.955 0 00-4.04-8.618z"></path></svg>
                </div>
                <!-- 3. Programm Icon -->
                <div id="nav-program" class="nav-icon-item" data-page="program" title="Wahlprogramm">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                </div>
                <!-- 4. Nextcloud Icon -->
                <div id="nav-nextcloud" class="nav-icon-item" data-page="nextcloud" title="Nextcloud">
                    <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                </div>
                <!-- 5. Kontakt Icon -->
                <div id="nav-contact" class="nav-icon-item" data-page="contact" title="Kontakt">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-11-5h4a2 2 0 012 2v2a2 2 0 01-2 2h-4a2 2 0 01-2-2V5a2 2 0 012-2z"></path></svg>
                </div>
            </div>
            
            <!-- Logo/Markenzeichen unten -->
            <div class="flex flex-col items-center p-2">
                <span class="text-xl">üå±</span>
            </div>
        </div>

        <!-- RECHTER BEREICH: Inhalt -->
        <div class="content-area">
            
            <!-- Seite 1: Startseite (Dashboard-Stil) -->
            <div id="home" class="page-content active">
                <div class="flex items-center mb-6">
                    <div class="text-4xl font-extrabold text-white mr-4">
                        <span class="text-[#4CAF50]">Die Freien Liberalen Deutschen</span>
                    </div>
                    <p class="text-md text-gray-400 font-light italic border-l border-gray-600 pl-4">
                        "Mehr Freiheit. Mehr Zukunft."
                    </p>
                </div>

                <!-- Haupt-Widgets/App-Icons -->
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    
                    <!-- Widget 1: Wahlprogramm -->
                    <div class="dashboard-card p-5 cursor-pointer text-center hover:bg-[#3a3a3c]" data-page-nav="program">
                        <svg class="w-10 h-10 mx-auto text-[#4CAF50] mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.247m0-13C13.168 5.477 14.754 5 16.5 5S19.832 5.477 21 6.253v13C19.832 18.477 18.246 18 16.5 18s-3.332.477-4.5 1.247"></path></svg>
                        <h3 class="text-sm font-semibold text-white">Wahlprogramm</h3>
                    </div>

                    <!-- Widget 2: Grundprinzipien -->
                    <div class="dashboard-card p-5 cursor-pointer text-center hover:bg-[#3a3a3c]" data-page-nav="principles">
                        <svg class="w-10 h-10 mx-auto text-blue-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 4.04A11.955 11.955 0 002.944 12c.045 4.015 1.583 7.85 4.416 10.016a11.955 11.955 0 0014.288-4.041 11.955 11.955 0 00-4.04-8.618z"></path></svg>
                        <h3 class="text-sm font-semibold text-white">Grundwerte</h3>
                    </div>

                    <!-- Widget 3: Nextcloud Shortcut -->
                    <div class="dashboard-card p-5 cursor-pointer text-center hover:bg-[#3a3a3c]" data-page-nav="nextcloud">
                        <svg class="w-10 h-10 mx-auto text-purple-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                        <h3 class="text-sm font-semibold text-white">Nextcloud</h3>
                    </div>
                </div>

                <!-- Gro√üer Text-Widget unten -->
                <div class="dashboard-card mt-6 p-6">
                    <h2 class="text-2xl font-semibold mb-2 text-[#4CAF50]">Aktuelle Nachrichten</h2>
                    <p class="text-gray-400 leading-relaxed">
                        Die j√ºngste Umfrage zeigt einen starken Anstieg der Zustimmungswerte. Unsere Botschaft der digitalen und √∂kologischen Erneuerung findet breite Unterst√ºtzung in der Bev√∂lkerung. Wir danken allen Helfern f√ºr ihren unerm√ºdlichen Einsatz!
                    </p>
                </div>
            </div>

            <!-- Seite 2: Grundprinzipien -->
            <div id="principles" class="page-content">
                <h1 class="text-4xl font-extrabold text-white mb-6 text-[#4CAF50]">Unsere Grundprinzipien</h1>
                <p class="text-lg text-gray-300 mb-8">
                    Drei S√§ulen tragen unsere Bewegung.
                </p>
                <div class="space-y-6">
                    <div class="dashboard-card p-6 border-l-4 border-green-500">
                        <h2 class="text-2xl font-semibold mb-2 text-white">1. Nachhaltigkeit (√ñkologie & √ñkonomie)</h2>
                        <p class="text-gray-400">Wir setzen uns f√ºr eine gr√ºne Wirtschaft ein, die nicht nur die Umwelt sch√ºtzt, sondern auch langfristige, zukunftssichere Arbeitspl√§tze schafft.</p>
                    </div>
                </div>
            </div>

            <!-- Seite 3: Wahlprogramm -->
            <div id="program" class="page-content">
                <h1 class="text-4xl font-extrabold text-white mb-6 text-[#4CAF50]">Wahlprogramm: Die n√§chsten 4 Jahre</h1>
                <p class="text-lg text-gray-300 mb-8">
                    Fokus auf die dringendsten Herausforderungen des Landes.
                </p>
                <div class="space-y-8">
                    <div class="dashboard-card p-6">
                        <h2 class="text-2xl font-semibold mb-3 text-white">Bildung & Innovation</h2>
                        <ul class="list-disc list-inside space-y-2 text-gray-400 ml-4">
                            <li>Kostenloser Zugang zu allen Lehrmaterialien online.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Seite 4: Nextcloud Widget -->
            <div id="nextcloud" class="page-content">
                <h1 class="text-4xl font-extrabold text-white mb-6 text-purple-400">Nextcloud Dokumente</h1>
                <p class="text-lg text-gray-300 mb-4">
                    Hier k√∂nnen Sie auf interne Parteidokumente zugreifen.
                </p>
                <!-- IFRAME F√úR NEXTCLOUD -->
                <div id="nextcloud-content" class="h-[75%] bg-[#2c2c2e] rounded-xl overflow-hidden shadow-2xl">
                    <iframe src="https://www.nextcloud.com/de/" 
                            title="Nextcloud Einbettung"
                            loading="lazy">
                        Ihr Browser unterst√ºtzt keine Iframes.
                    </iframe>
                </div>
                <p class="text-xs text-gray-500 mt-2">
                    *Bitte beachten: Die Einbettung externer Seiten kann durch den jeweiligen Server blockiert werden.
                </p>
            </div>

            <!-- Seite 5: Kontakt -->
            <div id="contact" class="page-content">
                <h1 class="text-4xl font-extrabold text-white mb-6 text-[#4CAF50]">Kontakt & Mitmachen</h1>
                <p class="text-lg text-gray-300 mb-8">
                    Ihre Stimme z√§hlt. Treten Sie in Kontakt mit uns.
                </p>
                <div class="dashboard-card p-6">
                    <form id="contact-form" class="space-y-4">
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-300">E-Mail Adresse</label>
                            <input type="email" id="email" name="email" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-lg shadow-sm p-3 text-white focus:ring-[#4CAF50] focus:border-[#4CAF50]" placeholder="max@beispiel.de" required>
                        </div>
                        <button type="submit" class="w-full bg-[#4CAF50] text-white py-3 px-4 rounded-xl hover:bg-green-600 transition font-semibold">Nachricht Senden</button>
                    </form>
                    <div id="message-status" class="mt-4 text-center text-green-400 hidden">
                        Nachricht erfolgreich gesendet! (Simuliert)
                    </div>
                </div>
            </div>


            <!-- Meldungsfeld statt alert() -->
            <div id="app-message-box" class="fixed bottom-4 right-4 bg-red-600 text-white p-4 rounded-lg shadow-2xl transition-opacity duration-300 hidden">
            </div>

        </div>
    </div>

    <script>
        // JavaScript f√ºr die Navigation, Uhrzeit und den √úbergangseffekt
        document.addEventListener('DOMContentLoaded', () => {
            const navIconItems = document.querySelectorAll('.nav-icon-item');
            const dashboardCards = document.querySelectorAll('[data-page-nav]');
            const timeDisplay = document.getElementById('current-time');
            const rootElement = document.documentElement;

            let currentPageId = 'home';

            // Hintergrundbild-Funktion
            // Die URL wird jetzt direkt aus der CSS-Variable gelesen und beim Laden gesetzt
            const newWallpaperUrl = 'https://thunfisch-begiahnop-0uillku50p.edgeone.dev/IMG_0885.png'; 
            
            window.setBackgroundImage = function(url) {
                // Nur die CSS-Variable setzen
                rootElement.style.setProperty('--background-url', `url('${url}')`);
            }
            
            // Setze das Hintergrundbild direkt beim Laden der Seite (nur zur Sicherheit, es ist auch in CSS)
            setBackgroundImage(newWallpaperUrl); 

            // Uhrzeit aktualisieren
            function updateTime() {
                const now = new Date();
                // Die Uhrzeit im Dock ist klein, daher passt dieses Format gut
                timeDisplay.textContent = now.toLocaleTimeString('de-DE', { hour: '2-digit', minute: '2-digit' });
            }
            updateTime();
            // Aktualisiere die Uhr jede Minute
            setInterval(updateTime, 60000); 

            // Funktion zum Anzeigen der Seite mit dem gew√ºnschten √úbergang
            function showPage(targetId) {
                if (targetId === currentPageId) return;

                const currentContent = document.getElementById(currentPageId);
                const targetContent = document.getElementById(targetId);

                // 1. Deaktiviere die aktuelle Seite (Zoom Out/Blur)
                if (currentContent) {
                    currentContent.classList.remove('active');
                }

                // 2. Warte kurz, um den √úbergang zu starten
                setTimeout(() => {
                    // 3. Aktiviere die neue Seite (Zoom In/Unblur)
                    if (targetContent) {
                        targetContent.scrollTop = 0;
                        targetContent.classList.add('active');
                    }

                    // 4. Aktualisiere die aktive Klasse im Dock
                    navIconItems.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('data-page') === targetId) {
                            link.classList.add('active');
                        }
                    });

                    currentPageId = targetId;

                }, 100); 
            }

            // Event Listener f√ºr den Navigations-Dock (Icons)
            navIconItems.forEach(link => {
                link.addEventListener('click', (event) => {
                    const targetPage = event.currentTarget.getAttribute('data-page');
                    showPage(targetPage);
                });
            });

            // Event Listener f√ºr die Dashboard-Karten (Shortcuts auf Home)
            dashboardCards.forEach(card => {
                card.addEventListener('click', (event) => {
                    const targetPage = event.currentTarget.getAttribute('data-page-nav');
                    if (targetPage) {
                        showPage(targetPage);
                    }
                });
            });

            // Formular-Handling simulieren
            const contactForm = document.getElementById('contact-form');
            if (contactForm) {
                contactForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const messageBox = document.getElementById('app-message-box');
                    messageBox.textContent = "Nachricht erfolgreich gesendet. Vielen Dank!";
                    messageBox.classList.remove('hidden');
                    messageBox.classList.remove('bg-red-600');
                    messageBox.classList.add('bg-green-600');
                    messageBox.style.opacity = 1;
                    
                    contactForm.reset();

                    setTimeout(() => {
                        messageBox.style.opacity = 0;
                        setTimeout(() => messageBox.classList.add('hidden'), 300);
                    }, 3000);
                });
            }

            // Sicherstellen, dass die Startseite beim Laden aktiv ist
            showPage('home');
        });
    </script>
</body>
</html>